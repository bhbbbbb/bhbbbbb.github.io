(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-69db0855","chunk-fd23a2e2"],{"0535":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"ma-0 pa-0 transparent",attrs:{"min-height":"10vh",flat:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-text-field",{staticClass:"ma-0 pa-0",attrs:{placeholder:"標題",autocomplete:"off"},model:{value:t.inner_article.title,callback:function(e){t.$set(t.inner_article,"title",e)},expression:"inner_article.title"}})],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-textarea",{staticClass:"ma-0 pa-0",attrs:{"auto-grow":"",placeholder:"輸入內文",rows:"1"},model:{value:t.inner_article.body,callback:function(e){t.$set(t.inner_article,"body",e)},expression:"inner_article.body"}})],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-text-field",{staticStyle:{"font-weight":"bold"},attrs:{id:"tag-input",solo:"",flat:"",autocomplete:"off",placeholder:"#newtag","prepend-icon":"mdi-plus-circle-outline","append-outer-icon":"mdi-check","error-messages":t.err_msg,rules:[t.valid,t.repeated]},on:{focus:t.addHashTag,blur:t.removeHashTag,"click:prepend":function(e){return t.focus()},"click:append-outer":function(e){return t.addTag()},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addTag()}},model:{value:t.tag_model,callback:function(e){t.tag_model=e},expression:"tag_model"}})],1),n("v-row",{attrs:{"no-gutters":""}},t._l(t.inner_article.tags,(function(e,a){return n("v-chip",{key:a,staticClass:"ma-1",attrs:{close:"","close-icon":"mdi-close","close-label":"刪除",color:"#9BA2AA",small:"",dark:""},on:{"click:close":function(e){return t.removeTag(a)}}},[t._v(t._s(e)+" ")])})),1),n("MilestonesEdit",{attrs:{content:t.inner_article.milestones,"author-id":t.$store.state.user.self.id},on:{deleted:t.del_ms}})],1)},i=[],o=(n("d3b7"),n("3ca3"),n("ddb0"),n("498a"),n("a434"),n("caad"),n("2532"),{name:"EditCard",components:{MilestonesEdit:function(){return Promise.all([n.e("chunk-2570f1d2"),n.e("chunk-27d06aa9")]).then(n.bind(null,"023a"))}},props:{article:{type:Object,required:!0}},data:function(){return{tag_model:"",err_msg:void 0}},computed:{inner_article:{get:function(){return this.article},set:function(t){console.log(t),this.$emit("update:article",t)}}},watch:{tag_model:function(t,e){this.err_msg=void 0,t.length<=e.length||t.length<=2||t&&" "===t.charAt(t.length-1)&&(this.tag_model=this.tag_model.substring(0,t.length-1),this.addTag())}},created:function(){},methods:{addHashTag:function(){this.tag_model||(this.tag_model="#")},removeHashTag:function(){"#"===this.tag_model&&(this.tag_model="")},focus:function(){document.getElementById("tag-input").focus()},addTag:function(){this.tag_model&&this.tag_model.trim();var t=this.valid(this.tag_model);!0===t?(t=this.repeated(this.tag_model),!0===t?this.tag_model.length<2?this.err_msg="cannot be empty":(this.inner_article.tags.push(this.tag_model),this.tag_model="#"):this.err_msg=t):this.err_msg=t},removeTag:function(t){this.inner_article.tags.splice(t,1)},valid:function(t){var e=/^#\S+$/g;return t.length<=1||(e.test(t)||"contain illegal charactersss")},repeated:function(t){return!this.inner_article.tags.includes(t)||"".concat(t," already exists")},del_ms:function(t){this.$emit("deleted",t)}}}),r=o,s=(n("3b6a"),n("2877")),l=n("6544"),c=n.n(l),u=n("b0af"),d=n("cc20"),h=n("0fd9"),g=n("8654"),f=n("a844"),p=Object(s["a"])(r,a,i,!1,null,null,null);e["default"]=p.exports;c()(p,{VCard:u["a"],VChip:d["a"],VRow:h["a"],VTextField:g["a"],VTextarea:f["a"]})},"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},1681:function(t,e,n){},"3b6a":function(t,e,n){"use strict";n("eb5a")},"90a2":function(t,e,n){"use strict";var a=n("53ca");n("7db0");function i(t,e){var n=e.modifiers||{},i=e.value,r="object"===Object(a["a"])(i)?i:{handler:i,options:{}},s=r.handler,l=r.options,c=new IntersectionObserver((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;if(t._observe){if(s&&(!n.quiet||t._observe.init)){var i=Boolean(e.find((function(t){return t.isIntersecting})));s(e,a,i)}t._observe.init&&n.once?o(t):t._observe.init=!0}}),l);t._observe={init:!1,observer:c},c.observe(t)}function o(t){t._observe&&(t._observe.observer.unobserve(t),delete t._observe)}var r={inserted:i,unbind:o};e["a"]=r},a844:function(t,e,n){"use strict";var a=n("5530"),i=(n("a9e3"),n("1681"),n("8654")),o=n("58df"),r=Object(o["a"])(i["a"]);e["a"]=r.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return Object(a["a"])({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},i["a"].options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var t=this.$refs.input;if(t){t.style.height="0";var e=t.scrollHeight,n=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(n,e)+"px"}},genInput:function(){var t=i["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput:function(t){i["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})},eb5a:function(t,e,n){}}]);